(()=>{"use strict";const t=class{constructor(t,e,n,s){this.title=t,this.dueDate=e,this.priority=n,this.isCompleted=s}toggleCompletion(){this.isCompleted=!this.isCompleted}edit(t,e,n){this.title=t,this.dueDate=e,this.priority=n}},e=new class{constructor(){this.projects=[]}addProject(t){this.projects.push(t)}deleteProject(t){const e=this.projects.indexOf(t);-1!==e&&this.projects.splice(e,1)}},n=class{constructor(t,n,s){this.title=t,this.dueDate=n,this.priority=s,this.tasks=[],e.addProject(this)}addTask(e,n,s){const o=new t(e,n,s,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}},s=new class{constructor(){this.tasks=[]}addTask(e,n,s){const o=new t(e,n,s,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}};let o=null;function c(t,e,n){t.value="",e.value="",n.value=""}function d(t){t.preventDefault();const s=document.getElementById("title-input"),d=document.getElementById("date-input"),i=document.getElementById("priority-input"),l=s.value,r=d.value,u=i.value;l&&r&&u?(document.querySelector(".modal").classList.remove("active"),function(t,s,c){!function(t){const n=document.createElement("li");n.classList.add("project"),n.dataset.index=e.projects.indexOf(t);const s=document.createElement("p");s.classList.add("project-title"),s.textContent=`${t.title} (${t.dueDate})`;const c=document.createElement("button");c.classList.add("delete-project-btn"),c.textContent="Delete",n.append(s,c),document.getElementById("project-list").appendChild(n),console.log(e.projects),n.addEventListener("click",(()=>{!function(t){o=t,console.log("current tab is this project:",o),document.getElementById("task-list").innerHTML="",t.tasks.forEach((t=>{a(t)}))}(t)})),c.addEventListener("click",(s=>{s.stopPropagation(),function(t,n){e.deleteProject(n),t.remove(),document.getElementById("project-list").childNodes.forEach(((t,e)=>{t.dataset.index=e})),console.log(e.projects)}(n,t)}))}(new n(t,s,c))}(l,r,u),c(s,d,i)):alert("Both title and due date are required.")}function i(){document.querySelector(".modal").classList.add("active")}function a(t){const e=document.getElementById("task-list"),n=document.createElement("li"),s=document.createElement("p");s.classList.add("task-title"),s.textContent=`${t.title}`;const o=document.createElement("p");o.classList.add("due-date"),o.textContent=`${t.dueDate}`;const c=document.createElement("p");c.classList.add("priority-level"),c.textContent=`${t.priority}`,n.append(s,o,c),e.append(n)}function l(){document.querySelector(".task-div").style.display="block"}function r(e){e.preventDefault();const n=document.querySelector(".task-div"),d=document.getElementById("task-title"),i=document.getElementById("task-date"),l=document.getElementById("task-priority"),r=d.value,u=i.value,m=l.value;r&&u&&m?(n.style.display="none",function(e,n,o,c=null){const d=new t(e,n,o,!1);c?(c.addTask(e,n,o),console.log("project tasks:",c.tasks)):(s.addTask(e,n,o),console.log("inbox tasks:",s.tasks)),a(d)}(r,u,m,o),c(d,i,l)):alert("Both title and due date are required.")}function u(){o=null,console.log("current tab is index",o),document.getElementById("task-list").innerHTML="",s.tasks.forEach((t=>{a(t)}))}function m(){document.getElementById("create-project-btn").addEventListener("click",i),document.getElementById("add-project-btn").addEventListener("click",d),document.getElementById("add-task-btn").addEventListener("click",l),document.getElementById("add-task-to-project").addEventListener("click",r),document.getElementById("inbox-btn").addEventListener("click",u)}m(),m(),s.tasks.forEach((t=>{a(t)}))})();
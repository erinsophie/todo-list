(()=>{"use strict";const t=class{constructor(t,e,s,n){this.title=t,this.dueDate=e,this.priority=s,this.isCompleted=n}toggleCompletion(){this.isCompleted=!this.isCompleted}edit(t,e,s){this.title=t,this.dueDate=e,this.priority=s}},e=new class{constructor(){this.projects=[]}addProject(t){this.projects.push(t)}removeProject(t){const e=this.projects.indexOf(t);-1!==e&&this.projects.splice(e,1)}},s=document.getElementById("create-project-btn"),n=document.getElementById("add-task-btn"),i=document.getElementById("task-list"),o=document.getElementById("project-list"),c=document.querySelector(".task-list-container");function d(s,n,d){!function(t){const s=document.createElement("li");s.classList.add("project"),s.dataset.projectIndex=e.projects.indexOf(t);const n=document.createElement("p");n.classList.add("project-title"),n.textContent=`${t.title} (${t.dueDate})`,s.append(n),o.appendChild(s),s.addEventListener("click",(()=>{i.innerHTML="";const e=document.createElement("p");e.textContent=`${t.title}`,c.append(e),t.tasks.forEach((t=>{r(t)}))}))}(new class{constructor(t,s,n){this.title=t,this.dueDate=s,this.priority=n,this.tasks=[],e.addProject(this)}addTask(e,s,n){const i=new t(e,s,n,!1);this.tasks.push(i)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}}(s,n,d))}function r(t){const e=document.createElement("li"),s=document.createElement("p");s.classList.add("task-title"),s.textContent=`${t.title}`;const n=document.createElement("p");n.classList.add("due-date"),n.textContent=`${t.dueDate}`;const o=document.createElement("p");o.classList.add("priority-level"),o.textContent=`${t.priority}`,e.append(s,n,o),i.append(e)}s.addEventListener("click",(function(){const t=prompt("Enter the project title:"),e=prompt("Enter the project due date:"),s=prompt("Enter priority level:");t&&e&&s?d(t,e,s):alert("Both title and due date are required.")})),n.addEventListener("click",(function(){const e=prompt("Title of task:"),s=prompt("Task due date:"),n=prompt("Priority level:");e&&s&&n?function(e,s,n){r(new t(e,s,n))}(e,s,n):alert("Both title and due date are required.")}))})();
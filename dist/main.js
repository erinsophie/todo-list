(()=>{"use strict";const t=class{constructor(t,e,s,n){this.title=t,this.dueDate=e,this.priority=s,this.isCompleted=n}toggleCompletion(){this.isCompleted=!this.isCompleted}edit(t,e,s){this.title=t,this.dueDate=e,this.priority=s}},e=new class{constructor(){this.projects=[]}addProject(t){this.projects.push(t)}deleteProject(t){const e=this.projects.indexOf(t);-1!==e&&this.projects.splice(e,1)}},s=class{constructor(t,s,n){this.title=t,this.dueDate=s,this.priority=n,this.tasks=[],e.addProject(this)}addTask(e,s,n){const o=new t(e,s,n,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}},n=new class{constructor(){this.tasks=[]}addTask(e,s,n){const o=new t(e,s,n,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}};let o=null;function c(t,e,s){t.value="",e.value="",s.value=""}function l(){document.getElementById("task-list").innerHTML=""}function a(){document.getElementById("project-list").childNodes.forEach(((t,e)=>{t.dataset.index=e})),console.log("projectslist array:",e.projects),console.log("this projects tasks:",project.tasks)}function d(t){t.preventDefault();const n=document.getElementById("title-input"),d=document.getElementById("date-input"),i=document.getElementById("priority-input"),u=n.value,m=d.value,p=i.value;u&&m&&p?(document.querySelector(".modal").classList.remove("active"),function(t,n,c){!function(t){const s=document.createElement("li");s.classList.add("project"),s.dataset.index=e.projects.indexOf(t);const n=document.createElement("p");n.classList.add("project-title"),n.textContent=`${t.title} (${t.dueDate})`;const c=document.createElement("button");c.classList.add("delete-project-btn"),c.textContent="Delete",s.append(n,c),document.getElementById("project-list").appendChild(s),console.log("list of projects:",e.projects),console.log("this projects tasks:",t.tasks),s.addEventListener("click",(()=>{!function(t){o=t,console.log("current tab is:",o),l(),t.tasks.forEach((t=>{r(t)}));const s=document.getElementById("inbox-btn");document.querySelectorAll(".project").forEach((n=>{n.classList.remove("current-tab"),n.dataset.index===e.projects.indexOf(t).toString()&&(n.classList.add("current-tab"),s.classList.remove("current-tab"))}))}(t)})),c.addEventListener("click",(n=>{n.stopPropagation(),function(t,s){e.deleteProject(s),s.tasks.length=0,t.remove(),l(),a()}(s,t)}))}(new s(t,n,c))}(u,m,p),c(n,d,i)):alert("Please fill out all fields.")}function i(){document.querySelector(".modal").classList.add("active")}function r(t){const e=document.getElementById("task-list"),s=document.createElement("li"),n=document.createElement("p");n.classList.add("task-title"),n.textContent=`${t.title}`;const o=document.createElement("p");o.classList.add("due-date"),o.textContent=`${t.dueDate}`;const c=document.createElement("p");c.classList.add("priority-level"),c.textContent=`${t.priority}`;const l=document.createElement("button");l.classList.add("delete-task"),l.textContent="Delete task",s.append(n,o,c,l),e.append(s)}function u(){document.querySelector(".task-div").style.display="block"}function m(t){t.preventDefault(),document.querySelector(".task-div").style.display="none"}function p(e){e.preventDefault();const s=document.querySelector(".task-div"),l=document.getElementById("task-title"),a=document.getElementById("task-date"),d=document.getElementById("task-priority"),i=l.value,u=a.value,m=d.value;i&&u&&m?(s.style.display="none",function(e,s,o,c=null){const l=new t(e,s,o,!1);c?c.addTask(e,s,o):n.addTask(e,s,o),r(l),console.log("inbox tasks:",n.tasks)}(i,u,m,o),c(l,a,d)):alert("Please fill out all fields.")}function k(){o=null,console.log("current tab is index",o),l(),n.tasks.forEach((t=>{r(t)}));const t=document.getElementById("inbox-btn");document.querySelectorAll(".project").forEach((t=>{t.classList.remove("current-tab")})),t.classList.add("current-tab"),console.log("inbox tasks:",n.tasks)}function E(){document.getElementById("create-project-btn").addEventListener("click",i),document.getElementById("add-project-btn").addEventListener("click",d),document.getElementById("add-task-btn").addEventListener("click",u),document.getElementById("add-task-to-project").addEventListener("click",p),document.getElementById("inbox-btn").addEventListener("click",k),document.getElementById("cancel-task").addEventListener("click",m)}E(),E(),n.tasks.forEach((t=>{r(t)}))})();
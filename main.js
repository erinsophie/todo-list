(()=>{"use strict";const t=class{constructor(t,e,s,n){this.title=t,this.dueDate=e,this.priority=s,this.isCompleted=n}toggleCompletion(){this.isCompleted=!this.isCompleted}edit(t,e,s){this.title=t,this.dueDate=e,this.priority=s}},e=new class{constructor(){this.projects=[]}addProject(t){this.projects.push(t)}removeProject(t){const e=this.projects.indexOf(t);-1!==e&&this.projects.splice(e,1)}},s=class{constructor(t,s,n){this.title=t,this.dueDate=s,this.priority=n,this.tasks=[],e.addProject(this)}addTask(e,s,n){const o=new t(e,s,n,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}},n=new class{constructor(){this.tasks=[]}addTask(e,s,n){const o=new t(e,s,n,!1);this.tasks.push(o)}deleteTask(t){const e=this.tasks.indexOf(t);-1!==e&&this.tasks.splice(e,1)}};let o=null;function c(){const t=document.getElementById("title-input"),n=document.getElementById("date-input"),c=document.getElementById("priority-input"),i=t.value,a=n.value,l=c.value;i&&a&&l?(document.querySelector(".modal").classList.remove("active"),function(t,n,c){!function(t){const s=document.createElement("li");s.classList.add("project"),s.dataset.projectIndex=e.projects.indexOf(t);const n=document.createElement("p");n.classList.add("project-title"),n.textContent=`${t.title} (${t.dueDate})`,s.append(n),document.getElementById("project-list").appendChild(s),s.addEventListener("click",(()=>{o=t,console.log("current tab is this project:",o),document.getElementById("task-list").innerHTML="",t.tasks.forEach((t=>{d(t)}))}))}(new s(t,n,c))}(i,a,l),function(t,e,s){t.value="",e.value="",s.value=""}(t,n,c)):alert("Both title and due date are required.")}function i(){document.querySelector(".modal").classList.add("active")}function d(t){const e=document.getElementById("task-list"),s=document.createElement("li"),n=document.createElement("p");n.classList.add("task-title"),n.textContent=`${t.title}`;const o=document.createElement("p");o.classList.add("due-date"),o.textContent=`${t.dueDate}`;const c=document.createElement("p");c.classList.add("priority-level"),c.textContent=`${t.priority}`,s.append(n,o,c),e.append(s)}function a(){const e=prompt("Title of task:"),s=prompt("Task due date:"),c=prompt("Priority level:");e&&s&&c?function(e,s,o,c=null){const i=new t(e,s,o,!1);c?(c.addTask(e,s,o),console.log("project tasks:",c.tasks)):(n.addTask(e,s,o),console.log("inbox tasks:",n.tasks)),d(i)}(e,s,c,o):alert("Both title and due date are required.")}function l(){o=null,console.log("current tab is index",o),document.getElementById("task-list").innerHTML="",n.tasks.forEach((t=>{d(t)}))}function r(){document.getElementById("create-project-btn").addEventListener("click",i),document.getElementById("add-task-btn").addEventListener("click",a),document.querySelector(".add-project-btn").addEventListener("click",c),document.getElementById("inbox-btn").addEventListener("click",l)}r(),r(),n.tasks.forEach((t=>{d(t)}))})();